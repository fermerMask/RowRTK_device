ScreenManager:
    SplashScreen:
    MainScreen:
    RTKActivationScreen:
    RTKSetupScreen:

<SplashScreen>:
    name: 'splash'    
    MDFloatLayout:
        md_bg_color: 188/255, 227/255, 217/255, 1
        Image:
            source: "images/rowing1.png"
            size_hint: .50, .50
            pos_hint: {"center_x": .54, "center_y": .6}
            canvas.before:
                Color:
                    rgb: 1, .85, .825, 1
        
        MDIconButton:
            icon: "chevron-right"
            user_font_size: "35sp"
            pos_hint: {"center_x": .5, "center_y": .12}      
            on_press: app.root.current = 'main'   
                    

        MDLabel:
            text: "Welcom to RowRTK"   
            pos_hint: {"center_x": .5, "center_y": .28}       
            halign: "center"
            theme_text_color: "Custom"
            text_color: 0, 0, 0
            font_size:"35sp"

        MDLabel:
            text: "Getting Start RowRTK"   
            pos_hint: {"center_x": .5, "center_y": .21}       
            halign: "center"
            theme_text_color: "Custom"
            text_color: 0, 0, 0 
            font_size:"13sp"

<MainScreen>:
    name: 'main'
    MDBoxLayout:
        md_bg_color: 188/255, 227/255, 217/255, 1
        orientation:'vertical'

        MDGridLayout:
            size_hint_y:.75
            cols:3
            padding:[dp(15),dp(15),dp(15),dp(35)]
            spacing:dp(15)
            
            ElementCard:
                image:"images/setting.png"
                text:"Setting"
                on_release: app.root.current = ''
            ElementCard:
                image:"images/rowing-boat.png"
                text:"Training Start"
                subtext: 'only GPS'
                on_release: app.root.current = 'rtkactivation'
            ElementCard:
                image:"images/gps.png"
                text:"RTK Training Start"
                subtext: 'Use RTK Positioning System'
                on_release: app.root.current = ''

<ElementCard@MDCard>:
    md_bg_color: 120/255, 173/255, 173/255, 1
    padding:dp(10)
    spacing:dp(10)
    radius:dp(25)
    ripple_behavior: True
    image:''
    text:""
    items_count:""
    subtext:''

    orientation: 'vertical'
    Image:
        source: root.image
    MDBoxLayout:
        orientation: 'vertical'
        MDLabel:
            halign: "center"
            text: root.text
            theme_text_color: "Custom"
            text_color: 255,255,255
            font_size: "20sp"
            bold:True
        
        MDLabel:
            halign: "center"
            font_style: "Caption"
            text: root.subtext
        
        MDLabel:
            halign: "center"
            text: root.items_count

<RTKActivationScreen>
    name: 'rtkactivation'
    MDBoxLayout:
        orientation: "vertical"

        MDToolbar:
            title: "RowRTK only use GPS"
            left_action_items: [["arrow-left",lambda x: root.back_screen()]]

        MDBoxLayout:
            orientation: 'vertical'
            padding: 10  
            spacing: 10  

            MapView:
                lat: 135
                lon: 35
                zoom:13
            MapMarkerPopup:
                lat: 135
                lon: 35
                MDLabel:
                    id: time_label
                    text: "00:00:00"
                    halign: "center"
                    theme_text_color: "Primary"
                    font_style: "H2"

            MDBoxLayout:
                size_hint_y: 0.5
                spacing: 10  

                MDBoxLayout:
                    padding: [10, 20]  

                    canvas.before:
                        Color:
                            rgba: 0.9, 0.9, 0.9, 1  
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [20]  

                    MDLabel:
                        id: date_label
                        text: "YYYY-MM-DD"
                        halign: "center"
                        theme_text_color: "Primary"
                        font_style: "H4"

             
                MDBoxLayout:
                    padding: [10, 20]  

                    canvas.before:
                        Color:
                            rgba: 0.9, 0.9, 0.9, 1 
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [20]  

                    MDLabel:
                        text: "Sample Data"
                        halign: "center"
                        theme_text_color: "Primary"
                        font_style: "H4"